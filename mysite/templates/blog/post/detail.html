{% extends "blog/base.html" %}
{% load blog_tags %}

{% block title %}{{ post.title }}{% endblock %}

{% block content %}
    <div class="post-detail">
        <div class="post-title">
            <h1>{{ post.title }}</h1>
        </div>
        <div class="post-bodys">
            <p class="post-meta">
                <span class="post-date" >Published {{ post.publish }} by {{ post.author }}</span>
            </p>
            <div class="body-post">
                {{ post.body|markdown }}
            </div>
        </div>
        <div class="share-post">
            <a href="{% url "blog:post_share" post.id %}" class="btn-share" > Share this post </a>
        </div>
        <div class="sim-com">
            <div class="similar-posts">
                <h2 class="similar-title">Similar posts</h2>
                <div class="similar">
                    {% for post in similar_posts %}
                        <div class="similar-post">
                            <a href="{{ post.get_absolute_url }}" class="similar-link">{{ post.title }}</a>
                        </div>
                    {% empty %}
                        <p class="no-similar-posts">There are no similar posts yet.</p>
                    {% endfor %}
                </div>
            </div>

            <div class="comment-section">
                <h2 class="comment-header">Commment</h2>
                <div class="comment">
                    {% with comments.count as total_comments %}
                        <h2 class="comment-title">{{ total_comments }} comment{{ total_comments|pluralize }}</h2>
                    {% endwith %}
                    {% for comment in comments %}
                        <div class="comment-item">
                            <p class="comment-info">
                                <strong> Comment {{ forloop.counter }}</strong> by {{ comment.name }} on {{ comment.created }}
                            </p>
                            <div class="comment-body">
                                {{ comment.body|linebreaks }}
                            </div>
                        </div>
                    {% empty %}
                        <p class="comment-item ">There are no comments.</p>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="layout">
            {% include "blog/post/includes/comment_form.html" %}
        </div>
    </div>
{% endblock %}